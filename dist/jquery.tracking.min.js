/*! jquery.tracking v1.0.4 | MIT */

(function(){var t,n,e=function(t,n){return function(){return t.apply(n,arguments)}},i=[].slice,r=[].indexOf||function(t){for(var n=0,e=this.length;n<e;n++)if(n in this&&this[n]===t)return n;return-1};this.JqueryTrackingGAnalyticsAdapter=function(){function t(t,n){this.options=t,this.controller=n,this.trackConversion=e(this.trackConversion,this),this.trackClick=e(this.trackClick,this),window.ga=window.ga||function(){return(ga.q=ga.q||[]).push(arguments)},window.ga.l=+new Date}return t.prototype.trackEvent=function(t,n,e,i){return window.ga("send","event",t,n,e,i)},t.prototype.trackClick=function(t){return this.trackEvent("button","click",t)},t.prototype.trackConversion=function(){return this.trackEvent("advertsing","conversion")},t}(),this.JqueryTrackingGTagmanagerAdapter=function(){function t(t,n){this.options=t,this.controller=n,this.trackConversion=e(this.trackConversion,this),this.trackClick=e(this.trackClick,this),window.dataLayer=window.dataLayer||[]}return t.prototype.trackEvent=function(t,n,e,i){return window.dataLayer.push({event:"gaEvent",eventCategory:t,eventAction:n,eventLabel:e,eventValue:i})},t.prototype.trackClick=function(t){return this.trackEvent("button","click",t)},t.prototype.trackConversion=function(){return this.trackEvent("advertsing","conversion")},t}(),this.JqueryTrackingFacebookAdapter=function(){function t(t,n){this.options=t,this.controller=n,this.available=e(this.available,this),this.trackConversion=e(this.trackConversion,this),this.trackClick=e(this.trackClick,this),this.trackEvent=e(this.trackEvent,this)}return t.prototype.trackEvent=function(t,n,e,i){if(this.available())return window.fbq("trackCustom","CustomEvent",{category:t,action:n,label:e,value:i})},t.prototype.trackClick=function(t){return this.trackEvent("button","click",t)},t.prototype.trackConversion=function(){if(console.log(this.controller.channel,"==",this.options.channelName),this.controller.channel===this.options.channelName&&this.available())return this._trackConversion()},t.prototype._trackConversion=function(){return fbq("track","Lead")},t.prototype.available=function(){return null==window.fbq&&this.controller.debug("JqueryTrackingFacebookAdapter",'"fbq" not loaded'),null!=window.fbq},t}(),this.JqueryTracking=function(){function t(t){this.restorParams=e(this.restorParams,this),this.storeParams=e(this.storeParams,this),this.triggerCampaignEvent=e(this.triggerCampaignEvent,this),this.setCampaign=e(this.setCampaign,this),this.triggerChannelEvent=e(this.triggerChannelEvent,this),this.setChannel=e(this.setChannel,this),this.conversion=e(this.conversion,this),this.click=e(this.click,this),this.event=e(this.event,this),this.remember=e(this.remember,this),this.wasAllreadyTracked=e(this.wasAllreadyTracked,this),this.callAdapters=e(this.callAdapters,this),this.trackBounce=e(this.trackBounce,this),this.loadAdapter=e(this.loadAdapter,this),this.config=e(this.config,this),this.adapter=[],this.memory=[],this.channel="",this.campaign="",this.options=this.constructor.options}return t.options={sessionLifeTimeDays:1,cookiePrefix:"tracking_",cookiePath:".example.com",sourceParamName:"src",campaignParamName:"cmp",storageParams:{src:"organic",cmp:"organic"},adapter:[{class:"JqueryTrackingGAnalyticsAdapter"}]},t.prototype.init=function(t){if(this.config(t),this.loadAdapter(),this.storeParams(),this.restorParams(),this.options.trackBounceIntervalSeconds)return this.trackBounce(this.options.trackBounceIntervalSeconds)},t.prototype.config=function(t){return t&&(this.options=jQuery.extend(!0,{},this.options,t)),this.options},t.prototype.debug=function(){var t,n,e;return n=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],(e=jQuery.debug).log.apply(e,["jquery.tracking::"+n].concat(i.call(t)))},t.prototype.loadAdapter=function(){var t,n,e,i,r;for(r=[],n=0,e=(i=this.options.adapter).length;n<e;n++)(t=i[n]).class in window?(this.debug("loadAdapter",t.class),r.push(this.adapter.push(new window[t.class](t,this)))):r.push(this.debug("can not loadAdapter",t.class));return r},t.prototype.trackBounce=function(t){var n,e;return e=0,(n=function(i){return function(){var r;return e&&(r=(e*t).toString()+"s",i.event("adjust bounce rate",r)),e++,setTimeout(n,1e3*t)}}(this))()},t.prototype.callAdapters=function(){var t,n;return n=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],jQuery.each(this.adapter,function(e){return function(r,o){return e.debug.apply(e,[o.options.class+"::"+n].concat(i.call(t))),o[n].apply(o,t)}}(this))},t.prototype.wasAllreadyTracked=function(t,n){return r.call(this.memory,id)>=0},t.prototype.remember=function(t){return this.memory.push(t)},t.prototype.event=function(t,n,e,i,r){var o;if(o=t+"."+n+"."+e+"."+i,!r||!this.wasAllreadyTracked(o))return this.remember(o),this.callAdapters("trackEvent",t,n,e,i)},t.prototype.click=function(t){return this.callAdapters("trackClick",t)},t.prototype.conversion=function(){return this.callAdapters("trackConversion")},t.prototype.setChannel=function(t){return this.channel=t},t.prototype.triggerChannelEvent=function(){return this.event("advertising","channel",this.channel)},t.prototype.setCampaign=function(t){return this.campaign=t},t.prototype.triggerCampaignEvent=function(){return this.event("advertising","campaign",this.campaign)},t.prototype.storeParams=function(){return jQuery.each(this.options.storageParams,function(t){return function(n,e){var i,r;if(i=Cookies.get(""+t.options.cookiePrefix+n),r=url("?"+n)||i||e,i!==r)return t.debug("storeParam::"+t.options.cookiePrefix,n+"="+r),Cookies.set(""+t.options.cookiePrefix+n,r,{path:t.options.cookiePath,expires:t.options.sessionLifeTimeDays})}}(this))},t.prototype.restorParams=function(){return jQuery.each(this.options.storageParams,function(t){return function(n,e){var i;if(i=Cookies.get(""+t.options.cookiePrefix+n)||e)switch(n){case t.options.sourceParamName:return t.setChannel(i);case t.options.campaignParamName:return t.setCampaign(i);default:return t.event("parameter",n,i)}}}(this))},t}(),"undefined"!=typeof jQuery&&(n=new JqueryTracking,(t=jQuery).extend({tracking:function(){var t;return(t=1<=arguments.length?i.call(arguments,0):[]).length?n.init(t[0]):n.config()}}),t.extend(t.tracking,n),t.tracking.instance=n)}).call(this);