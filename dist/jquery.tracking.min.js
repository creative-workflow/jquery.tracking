/*! jquery.tracking v1.0.1 | MIT */

(function(){var t,e,n=function(t,e){return function(){return t.apply(e,arguments)}},i=[].slice,r=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};this.JqueryTrackingGAnalyticsAdapter=function(){function t(t){this.options=t,this.trackClick=n(this.trackClick,this),window.ga=window.ga||function(){return(ga.q=ga.q||[]).push(arguments)},window.ga.l=+new Date}return t.prototype.trackEvent=function(t,e,n,i){return window.ga("send","event",t,e,n,i)},t.prototype.trackClick=function(t){return this.trackEvent("button","click",t)},t}(),this.JqueryTracking=function(){function t(t){this.options=t,this.restorParams=n(this.restorParams,this),this.storeParams=n(this.storeParams,this),this.setCampaign=n(this.setCampaign,this),this.setChannel=n(this.setChannel,this),this.click=n(this.click,this),this.event=n(this.event,this),this.remember=n(this.remember,this),this.wasAllreadyTracked=n(this.wasAllreadyTracked,this),this.callAdapters=n(this.callAdapters,this),this.trackBounce=n(this.trackBounce,this),this.loadAdapter=n(this.loadAdapter,this),this.config=n(this.config,this),this.adapter=[],this.memory=[],this.channel="",this.campaign="",this.config(jQuery.extend(this.options,this.constructor.options)),this.loadAdapter(),this.storeParams(),this.restorParams(),this.options.trackBounceIntervalSeconds&&this.trackBounce(this.options.trackBounceIntervalSeconds)}return t.options={trackBounceIntervalSeconds:10,sessionLifeTimeDays:1,cookiePrefix:"tracking_",cookiePath:".example.com",sourceParamName:"src",campaignParamName:"cmp",storageParams:{src:"organic",cmp:"organic"},adapter:[{class:"JqueryTrackingGAnalyticsAdapter"}]},t.prototype.config=function(t){return t&&(this.options=jQuery.extend(this.options,t)),this.options},t.prototype.debug=function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],(n=jQuery.debug).log.apply(n,["jquery.tracking::"+e].concat(i.call(t)))},t.prototype.loadAdapter=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.options.adapter).length;e<n;e++)(t=i[e]).class in window?(this.debug("loadAdapter",t.class),r.push(this.adapter.push(new window[t.class](t)))):r.push(void 0);return r},t.prototype.trackBounce=function(t){var e,n;return n=0,(e=function(i){return function(){var r;return n&&(r=(n*t).toString()+"s",i.event("adjust bounce rate",r)),n++,setTimeout(e,1e3*t)}}(this))()},t.prototype.callAdapters=function(){var t,e;return e=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],jQuery.each(this.adapter,function(n){return function(r,s){if(n.debug.apply(n,[s.options.class+"::"+e].concat(i.call(t))),!jQuery.debug())return s[e].apply(s,t)}}(this))},t.prototype.wasAllreadyTracked=function(t,e){return r.call(this.memory,id)>=0},t.prototype.remember=function(t){return this.memory.push(t)},t.prototype.event=function(t,e,n,i,r){var s;if(s=t+"."+e+"."+n+"."+i,!r||!this.wasAllreadyTracked(s))return this.remember(s),this.callAdapters("trackEvent",t,e,n,i)},t.prototype.click=function(t){return this.callAdapters("trackClick",t)},t.prototype.setChannel=function(t){return this.channel=t,this.event("advertising","channel",this.channel)},t.prototype.setCampaign=function(t){return this.campaign=t,this.event("advertising","campaign",this.campaign)},t.prototype.storeParams=function(){return jQuery.each(this.options.storageParams,function(t){return function(e,n){var i,r;if(i=Cookies.get(""+t.options.cookiePrefix+e),r=url("?"+e)||i||n,i!==r)return t.debug("storeParam::"+t.options.cookiePrefix,e+"="+r),Cookies.set(""+t.options.cookiePrefix+e,r,{path:t.options.cookiePath,expires:t.options.sessionLifeTimeDays})}}(this))},t.prototype.restorParams=function(){return jQuery.each(this.options.storageParams,function(t){return function(e,n){var i;if(i=Cookies.get(""+t.options.cookiePrefix+e)||n)switch(e){case t.options.sourceParamName:return t.setChannel(i);case t.options.campaignParamName:return t.setCampaign(i);default:return t.event("parameter",e,i)}}}(this))},t}(),"undefined"!=typeof jQuery&&(e=new JqueryTracking,(t=jQuery).extend({tracking:function(){var t;return(t=1<=arguments.length?i.call(arguments,0):[]).length?e.config(t[0]):e.config()}}),t.extend(t.tracking,e),t.tracking.instance=e)}).call(this);